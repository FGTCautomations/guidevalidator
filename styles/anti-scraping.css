/* Anti-scraping protection styles */

/* Disable text selection on sensitive contact information */
.contact-protected {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

/* Additional protection against copy/paste */
.contact-protected::selection {
  background: transparent;
  color: inherit;
}

.contact-protected::-moz-selection {
  background: transparent;
  color: inherit;
}

/* Disable right-click context menu on protected elements */
.contact-protected {
  pointer-events: auto;
}

/* Print protection - hide sensitive information when printing */
@media print {
  /* Hide contact information */
  .contact-protected,
  .print-hidden {
    display: none !important;
    visibility: hidden !important;
  }

  /* Show print warning message */
  .print-warning {
    display: block !important;
    padding: 2rem;
    text-align: center;
    font-size: 1.2rem;
    color: #000;
    border: 2px solid #000;
    margin: 2rem;
  }

  /* Hide watermark overlay (replace with print watermark) */
  .watermark-overlay {
    display: none !important;
  }

  /* Add print watermark */
  @page {
    margin: 2cm;
  }

  body::before {
    content: "CONFIDENTIAL - Contact information hidden in print";
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-45deg);
    font-size: 4rem;
    color: rgba(0, 0, 0, 0.05);
    white-space: nowrap;
    z-index: 9999;
    pointer-events: none;
  }

  /* Hide navigation, chat, and interactive elements */
  nav,
  footer,
  .chat-widget,
  button,
  .modal,
  .dropdown {
    display: none !important;
  }

  /* Ensure page breaks appropriately */
  h1,
  h2,
  h3 {
    page-break-after: avoid;
  }

  img {
    page-break-inside: avoid;
  }
}

/* Screenshot detection overlay */
.screenshot-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  mix-blend-mode: overlay;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 100px,
    rgba(0, 0, 0, 0.01) 100px,
    rgba(0, 0, 0, 0.01) 101px
  );
}

/* Protect against browser devtools */
.devtools-detector {
  position: fixed;
  top: -1000px;
  left: -1000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
  pointer-events: none;
}

/* Anti-copy paste overlay */
.copy-protected::before {
  content: attr(data-protection-notice);
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

/* Blur effect for unconfirmed reveals */
.contact-blur {
  filter: blur(8px);
  transition: filter 0.3s ease;
  cursor: pointer;
  position: relative;
}

.contact-blur:hover {
  filter: blur(6px);
}

.contact-blur::after {
  content: "Click to reveal";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  white-space: nowrap;
  pointer-events: none;
  filter: none;
}

/* Rate limit warning styles */
.rate-limit-warning {
  padding: 1rem;
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border-left: 4px solid #f59e0b;
  border-radius: 0.5rem;
  margin: 1rem 0;
}

.rate-limit-warning-icon {
  display: inline-block;
  margin-right: 0.5rem;
  font-size: 1.2rem;
}

/* Contact reveal modal styles */
.contact-reveal-backdrop {
  backdrop-filter: blur(4px);
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.contact-reveal-modal {
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Security badge indicator */
.security-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  background: #10b981;
  color: white;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 600;
}

.security-badge::before {
  content: "ðŸ”’";
  font-size: 0.875rem;
}

/* Watermark text styles */
.watermark-text {
  font-family: 'Courier New', monospace;
  font-size: 0.625rem;
  opacity: 0.05;
  pointer-events: none;
  user-select: none;
  color: currentColor;
  white-space: nowrap;
  transform-origin: center;
}

/* Mobile-specific protections */
@media (max-width: 768px) {
  .contact-protected {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
  }

  /* Prevent long-press context menu on mobile */
  .contact-protected * {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
  }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  .rate-limit-warning {
    background: linear-gradient(135deg, #78350f 0%, #92400e 100%);
    border-left-color: #f59e0b;
  }

  @media print {
    body::before {
      color: rgba(255, 255, 255, 0.05);
    }
  }
}

/* Accessibility: Ensure screen readers can still access content */
.contact-protected[aria-hidden="false"] {
  /* Allow screen readers */
  clip: auto;
  clip-path: none;
}

/* Loading state for contact reveal */
.contact-loading {
  position: relative;
  pointer-events: none;
}

.contact-loading::after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%,
  100% {
    opacity: 0.8;
  }
  50% {
    opacity: 0.4;
  }
}
